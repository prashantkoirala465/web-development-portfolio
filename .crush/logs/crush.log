{"time":"2025-08-10T22:35:02.825728+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":99},"msg":"Using cached provider data","path":"/Users/prashantkoirala/.local/share/crush/providers.json"}
{"time":"2025-08-10T22:35:02.827762+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders.func1","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":103},"msg":"Updating provider cache in background"}
{"time":"2025-08-10T22:35:03.306185+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.saveProvidersInCache","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":48},"msg":"Saving cached provider data","path":"/Users/prashantkoirala/.local/share/crush/providers.json"}
{"time":"2025-08-10T22:35:03.366752+05:45","level":"INFO","msg":"OK   20250424200609_initial.sql (894.54µs)"}
{"time":"2025-08-10T22:35:03.367058+05:45","level":"INFO","msg":"OK   20250515105448_add_summary_message_id.sql (283.17µs)"}
{"time":"2025-08-10T22:35:03.367281+05:45","level":"INFO","msg":"OK   20250624000000_add_created_at_indexes.sql (211.67µs)"}
{"time":"2025-08-10T22:35:03.367536+05:45","level":"INFO","msg":"OK   20250627000000_add_provider_to_messages.sql (245.29µs)"}
{"time":"2025-08-10T22:35:03.367541+05:45","level":"INFO","msg":"goose: successfully migrated database to version: 20250627000000"}
{"time":"2025-08-10T22:35:03.367571+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).initLSPClients","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":18},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-10T22:35:03.370566+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-10T22:35:03.370623+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-10T22:35:03.372332+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-10T22:35:03.372355+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-10T22:35:04.582085+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-10T22:35:04.582141+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-10T22:35:04.583834+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-10T22:35:04.583864+05:45","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-10T22:35:06.452602+05:45","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":347},"msg":"failed to process events: POST \"https://openrouter.ai/api/v1/chat/completions\": 402 Payment Required {\"message\":\"This request requires more credits, or fewer max_tokens. You requested up to 32768 tokens, but can only afford 18741. To increase, visit https://openrouter.ai/settings/credits and upgrade to a paid account\",\"code\":402,\"metadata\":{\"provider_name\":null}}"}
{"time":"2025-08-10T22:35:10.894995+05:45","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).convertMessages","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":169},"msg":"There is a message without content, investigate, this should not happen"}
{"time":"2025-08-10T22:35:12.104621+05:45","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":347},"msg":"failed to process events: POST \"https://openrouter.ai/api/v1/chat/completions\": 402 Payment Required {\"message\":\"This request requires more credits, or fewer max_tokens. You requested up to 32768 tokens, but can only afford 4990. To increase, visit https://openrouter.ai/settings/credits and upgrade to a paid account\",\"code\":402,\"metadata\":{\"provider_name\":null}}"}
